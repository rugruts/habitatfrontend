import{r as n,j as a,C as h,v as b,w as j,x as p,i as v,y as m,V as Ce,z as _,H as e,D as le,W as ce,E as N,G as O,I as U,J as Z,K as l,T as y,o as J,q as H,N as de,P as he,O as X,U as B,Q as M,X as Pe,p as W,M as L,l as Se,Y as ue,Z as q,_ as Ie,$ as g,a0 as Y,a1 as xe,a2 as Le,a3 as R,a4 as Me,a5 as Re,a6 as G,a7 as Ae,a8 as ze,a9 as Te,aa as Ee,ab as He,ac as pe,u as Be,ad as qe,B as k,L as E,A as Oe,ae as Fe,af as oe,ag as me,ah as De,ai as Ve,aj as ne,ak as $e,al as We,am as Ge,an as Ue,F as Ze,ao as Je,ap as i,s as V}from"./index-C9A5H9iZ.js";import{A as ge,B as Xe,P as Ye,T as Ke,a as I}from"./trending-up-DQ8hiyww.js";import{E as Qe}from"./euro-Cewpc72q.js";const ea=({latitude:d,longitude:u,address:s,propertyName:w})=>{const C=n.useRef(null),f=n.useRef(null);return n.useEffect(()=>{if(!C.current)return;const A=async()=>{if(!document.querySelector('link[href*="leaflet"]')){const t=document.createElement("link");t.rel="stylesheet",t.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",t.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",t.crossOrigin="",document.head.appendChild(t)}if(window.L)P();else{const t=document.createElement("script");t.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",t.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",t.crossOrigin="",t.onload=()=>{P()},document.head.appendChild(t)}},P=()=>{const t=window.L;if(!t||!C.current)return;const S=t.map(C.current).setView([d,u],17);f.current=S,t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(S);const F=t.divIcon({className:"custom-hl-marker",html:`
          <div style="
            width: 32px; 
            height: 32px; 
            background: hsl(var(--primary)); 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.3); 
            border: 2px solid white;
            position: relative;
          ">
            <span style="color: white; font-weight: bold; font-size: 12px;">HL</span>
            <div style="
              position: absolute;
              bottom: -6px;
              left: 50%;
              transform: translateX(-50%);
              width: 0;
              height: 0;
              border-left: 6px solid transparent;
              border-right: 6px solid transparent;
              border-top: 6px solid hsl(var(--primary));
            "></div>
          </div>
        `,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});t.marker([d,u],{icon:F}).addTo(S).bindPopup(`
        <div style="text-align: center; padding: 8px;">
          <strong>${w}</strong><br>
          <small>${s}</small>
        </div>
      `)};return A(),()=>{f.current&&f.current.remove()}},[d,u,s,w]),a.jsx("div",{ref:C,className:"w-full h-full rounded-lg",style:{minHeight:"256px"}})},aa={no_smoking:p,no_pets:m,no_parties:Ce,quiet_hours:_,no_shoes:e,max_guests:m,check_in_time:_,check_out_time:_,cleaning:le,security:p,wifi:ce,parking:N,elevator:e,kitchen:O,tv:U,ac:Z,balcony:l,garden:y,coffee:J,bike:H,camera:de,phone:he,mail:X,utensils:B,waves:M,airvent:ge,building:Pe,castle:W,mountain:L,bus:Xe,landmark:Se,alert:ue,sparkles:le,zap:q,euro:Qe,maximize:Ie,map_pin:l,star:g,bed:Y,bath:xe,users:m,trash:Le,edit:Ye,check:R,file_text:Me,plus:Re,x:G,save:Ae,eye:ze,eye_off:Te,external_link:Ee,trending_up:Ke,utensils_crossed:He,navigation:pe},sa=({rules:d,className:u=""})=>!d||d.length===0?null:a.jsxs(h,{className:u,children:[a.jsx(b,{children:a.jsxs(j,{className:"text-2xl flex items-center gap-2",children:[a.jsx(p,{className:"h-6 w-6 text-orange-600"}),"House Rules"]})}),a.jsx(v,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(s=>{const w=aa[s.icon];return a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border bg-card/50 hover:bg-card/70 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:w&&a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(w,{className:"h-4 w-4 text-orange-600"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium text-sm mb-1",children:s.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description})]})]},s.id)})})})]}),$={wifi:ce,ac:Z,kitchen:O,elevator:e,balcony:l,parking:N,coffee:J,tv:U,garden:M,airconditioning:ge},ia={wifi:"Wi-Fi",ac:"Air Conditioning",kitchen:"Full Kitchen",elevator:"Elevator Access",balcony:"Private Balcony",parking:"Parking Space",coffee:"Coffee Machine",tv:"Smart TV",garden:"Garden Access",airconditioning:"Climate Control"},ra={wifi:"High-speed internet throughout the apartment",ac:"Climate control for your comfort",kitchen:"Equipped kitchen with all essentials",elevator:"Easy access to all floors",balcony:"Outdoor space with city views",parking:"Secure parking available",coffee:"Fresh coffee every morning",tv:"Entertainment at your fingertips",garden:"Beautiful outdoor space",airconditioning:"Climate control for your comfort"},ta={restaurant:B,cafe:J,bar:e,bakery:O,butcher:O,supermarket:e,pharmacy:e,bank:e,atm:e,post_office:X,bookshop:e,electronics:e,clothing:e,shoes:I,jewelry:e,hardware_store:i,furniture_store:e,bus_stop:N,train_station:e,airport:e,taxi:N,parking:N,gas_station:q,car_rental:N,bike_rental:H,hospital:e,police:p,fire_station:ue,school:e,university:e,library:e,museum:e,theater:e,cinema:e,art_gallery:e,shopping_mall:e,market:e,gym:e,park:y,beach:M,mountain:L,swimming_pool:M,tennis_court:e,golf_course:e,ski_resort:L,amusement_park:g,zoo:e,aquarium:e,botanical_garden:y,church:e,mosque:e,temple:e,castle:W,palace:e,fortress:p,monument:l,statue:e,cemetery:e,tourist_info:l,tourist_attraction:l,historical_site:W,viewpoint:l,tour_office:l,hotel:Y,hostel:m,spa:e,optician:l,dentist:e,vet:e,pet_shop:e,garden_center:y,hiking_trail:L,camping:e,picnic_area:y,playground:e,marina:e,fishing_spot:e,sports_center:e,stadium:e,race_track:N,clock_tower:_,bell_tower:e,lighthouse:e,windmill:Z,tower:e,bridge:e,fountain:e,power_plant:q,water_tower:e,antenna:e,satellite:e,observatory:l,planetarium:g,concert_hall:e,opera_house:e,music_store:e,radio_station:e,tv_station:U,newspaper:l,magazine:l,photo_studio:de,law_office:e,accounting_firm:e,insurance_office:p,real_estate:e,travel_agency:e,car_dealer:N,motorcycle_dealer:H,auto_repair:i,car_wash:e,electric_charging:q,bike_shop:H,surf_shop:M,ski_shop:L,climbing_shop:L,camping_shop:e,fishing_shop:e,bowling:e,billiards:e,chess_club:e,internet_cafe:e,gaming_center:e,karaoke:e,nightclub:e,casino:e,antique_shop:_,vintage_shop:_,thrift_shop:I,outlet_mall:e,farmers_market:y,flea_market:I,food_festival:B,wine_festival:e,beer_festival:e,music_festival:e,film_festival:e,comedy_club:e,magic_show:g,circus:g,massage_parlor:e,yoga_studio:e,pilates_studio:e,meditation_center:e,martial_arts:p,cultural_center:e,community_center:m,senior_center:m,youth_center:m,soup_kitchen:B,food_bank:I,clothing_bank:I,medical_clinic:e,dental_clinic:e,eye_clinic:l,mental_health_clinic:e,rehabilitation_center:e,nursing_home:m,hospice:e,funeral_home:e,crematorium:e,memorial_garden:y,columbarium:e,mausoleum:e,tomb:e,grave:e,headstone:e,plaque:l,memorial_bench:e,memorial_tree:y,memorial_fountain:e,memorial_clock:_,memorial_bell:e,memorial_lamp:e,memorial_flag:e,memorial_wreath:e,memorial_candle:e,memorial_incense:e,memorial_offering:I,memorial_prayer:e,memorial_service:m,memorial_ceremony:m,memorial_celebration:m,memorial_remembrance:e,memorial_honor:p,memorial_respect:e,memorial_love:e,memorial_gratitude:e,memorial_peace:e,memorial_hope:e,memorial_faith:e,memorial_courage:e,memorial_strength:p,memorial_wisdom:e,memorial_knowledge:e,memorial_learning:e,memorial_education:e,memorial_teaching:e,memorial_mentoring:m,memorial_guidance:e,memorial_support:e,memorial_help:e,memorial_care:e,memorial_comfort:e,memorial_healing:e,memorial_recovery:e,memorial_renewal:e,memorial_growth:e,memorial_change:e,memorial_transformation:e,memorial_evolution:e,memorial_progress:e,memorial_advancement:e,memorial_improvement:e,memorial_development:e,memorial_innovation:e,memorial_creativity:e,memorial_imagination:e,memorial_inspiration:g,memorial_motivation:e,memorial_encouragement:e,memorial_empowerment:p,memorial_confidence:e,memorial_self_esteem:e,memorial_pride:e,memorial_achievement:e,memorial_success:e,memorial_victory:e,memorial_triumph:e,memorial_conquest:p,memorial_overcoming:e,memorial_perseverance:e,memorial_determination:e,memorial_resilience:e,memorial_endurance:e,memorial_persistence:e,memorial_tenacity:e,memorial_grit:e,memorial_fortitude:e,memorial_bravery:e,memorial_heroism:e,memorial_valor:e,memorial_gallantry:e,memorial_nobility:e,memorial_elegance:e,memorial_beauty:e,memorial_harmony:e,memorial_balance:e,memorial_equilibrium:e,memorial_stability:e,memorial_grounding:e,memorial_centering:e,memorial_focus:e,memorial_clarity:l,memorial_awareness:e,memorial_consciousness:e,memorial_mindfulness:e,memorial_presence:e,memorial_attention:e,memorial_observation:e,memorial_notice:e,memorial_recognition:e,memorial_acknowledgment:R,memorial_appreciation:e,memorial_thanks:e,memorial_blessing:e,memorial_favor:e,memorial_goodwill:e,memorial_kindness:e,memorial_compassion:e,memorial_empathy:e,memorial_sympathy:e,memorial_understanding:e,memorial_tolerance:e,memorial_acceptance:e,memorial_inclusion:m,memorial_diversity:m,memorial_equality:e,memorial_justice:e,memorial_fairness:e,memorial_impartiality:e,memorial_objectivity:e,memorial_neutrality:e,memorial_unbiased:e,memorial_unprejudiced:e,memorial_open_minded:e,memorial_broad_minded:e,memorial_liberal:e,memorial_progressive:e,memorial_forward_thinking:e,memorial_visionary:e,memorial_futuristic:e,memorial_modern:e,memorial_contemporary:e,memorial_current:e,memorial_timely:e,memorial_relevant:e,memorial_pertinent:e,memorial_applicable:e,memorial_suitable:e,memorial_appropriate:e,memorial_fitting:e,memorial_proper:e,memorial_correct:e,memorial_right:e,memorial_good:e,memorial_positive:e,memorial_constructive:e,memorial_helpful:e,memorial_beneficial:e,memorial_valuable:e,memorial_precious:e,memorial_treasure:e,memorial_jewel:e,memorial_pearl:e,memorial_diamond:e,memorial_ruby:e,memorial_emerald:e,memorial_sapphire:e,memorial_opal:e,memorial_amethyst:e,memorial_topaz:e,memorial_garnet:e,memorial_aquamarine:e,memorial_peridot:e,memorial_citrine:e,memorial_tanzanite:e,memorial_turquoise:e,memorial_lapis:e,memorial_onyx:e,memorial_jade:e,memorial_agate:e,memorial_quartz:e,memorial_crystal:e,memorial_obsidian:e,memorial_granite:e,memorial_marble:e,memorial_slate:e,memorial_sandstone:e,memorial_limestone:e,memorial_basalt:e,memorial_gneiss:e,memorial_schist:e,memorial_phyllite:e,memorial_shale:e,memorial_clay:e,memorial_silt:e,memorial_sand:e,memorial_gravel:e,memorial_cobble:e,memorial_boulder:e,memorial_pebble:e,memorial_stone:e,memorial_rock:e,memorial_mineral:e,memorial_ore:e,memorial_metal:e,memorial_gold:e,memorial_silver:e,memorial_copper:e,memorial_iron:i,memorial_steel:i,memorial_aluminum:i,memorial_titanium:i,memorial_platinum:e,memorial_palladium:e,memorial_rhodium:e,memorial_iridium:e,memorial_osmium:e,memorial_ruthenium:e,memorial_rhenium:e,memorial_tungsten:i,memorial_molybdenum:i,memorial_niobium:i,memorial_tantalum:i,memorial_vanadium:i,memorial_chromium:i,memorial_manganese:i,memorial_cobalt:i,memorial_nickel:i,memorial_zinc:i,memorial_cadmium:i,memorial_mercury:i,memorial_lead:i,memorial_tin:i,memorial_antimony:i,memorial_bismuth:i,memorial_polonium:i,memorial_astatine:i,memorial_radon:i,memorial_francium:i,memorial_radium:i,memorial_actinium:i,memorial_thorium:i,memorial_protactinium:i,memorial_uranium:i,memorial_neptunium:i,memorial_plutonium:i,memorial_americium:i,memorial_curium:i,memorial_berkelium:i,memorial_californium:i,memorial_einsteinium:i,memorial_fermium:i,memorial_mendelevium:i,memorial_nobelium:i,memorial_lawrencium:i,memorial_rutherfordium:i,memorial_dubnium:i,memorial_seaborgium:i,memorial_bohrium:i,memorial_hassium:i,memorial_meitnerium:i,memorial_darmstadtium:i,memorial_roentgenium:i,memorial_copernicium:i,memorial_nihonium:i,memorial_flerovium:i,memorial_moscovium:i,memorial_livermorium:i,memorial_tennessine:i,memorial_oganesson:i},na=()=>{var ie,re,te;const{t:d}=Be(),{id:u}=qe(),[s,w]=n.useState(null),[C,f]=n.useState(!0),[A,P]=n.useState(null),[t,S]=n.useState(0),[F,D]=n.useState(!1);n.useState(!1);const[_e,K]=n.useState(!1),[Q,fe]=n.useState([]),[o,be]=n.useState({totalReviews:0,averageRating:0,ratingDistribution:{}}),[je,ve]=n.useState(!0);n.useEffect(()=>{(async()=>{if(!u){P("Property ID not provided"),f(!1);return}try{f(!0);const x=await V.getAllProperties(),c=x==null?void 0:x.find(ke=>ke.id===u);if(!c){P("Property not found"),f(!1);return}const T={...c,amenities:typeof c.amenities=="string"?JSON.parse(c.amenities||"[]"):c.amenities||[],images:typeof c.images=="string"?JSON.parse(c.images||"[]"):c.images||[]};console.log("Loaded property:",T),w(T);const[Ne,we]=await Promise.all([V.getPropertyReviews(u,10),V.getPropertyReviewStats(u)]);fe(Ne),be(we)}catch(x){console.error("Error fetching property:",x),P("Failed to load property details")}finally{f(!1),ve(!1)}})()},[u]);const ee=()=>{s!=null&&s.images.length&&S(r=>(r+1)%s.images.length)},ae=()=>{s!=null&&s.images.length&&S(r=>(r-1+s.images.length)%s.images.length)},ye=()=>{console.log("Share button clicked, opening modal..."),K(!0),console.log("Modal state set to:",!0)},se=r=>{r.preventDefault(),r.stopPropagation(),D(!0)};if(C)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Loading apartment details..."})]})});if(A||!s)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(G,{className:"h-8 w-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Apartment Not Found"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:A||"The apartment you're looking for doesn't exist."}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(k,{asChild:!0,variant:"outline",children:a.jsxs(E,{to:"/apartments",children:[a.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Back to Apartments"]})}),a.jsx(k,{asChild:!0,children:a.jsx(E,{to:"/",children:"Go Home"})})]})]})});s.name,`${s.id}`;const z=s.images.length>0?s.images:["https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800","https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800"];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-white",children:[a.jsxs(Fe,{children:[a.jsxs("title",{children:[s.name," – Habitat Lobby"]}),a.jsx("meta",{name:"description",content:s.description}),a.jsx("link",{rel:"canonical",href:`https://habitat-lobby.lovable.app/apartments/${s.id}`})]}),a.jsxs("section",{className:"relative h-[70vh] min-h-[500px] overflow-hidden",children:[a.jsxs("div",{className:"relative h-full w-full",children:[a.jsx("img",{src:z[t],alt:`${s.name} - Photo ${t+1}`,className:"h-full w-full object-cover transition-all duration-700 ease-in-out cursor-pointer hover:scale-105 hover:shadow-2xl",loading:"eager",onClick:se}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-transparent hover:bg-black/5 transition-colors duration-300"}),a.jsx("button",{onClick:ae,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm rounded-full p-3 text-white hover:bg-white/30 transition-all",children:a.jsx(oe,{className:"h-6 w-6"})}),a.jsx("button",{onClick:ee,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm rounded-full p-3 text-white hover:bg-white/30 transition-all",children:a.jsx(me,{className:"h-6 w-6"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[a.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 text-white text-sm",children:[t+1," / ",z.length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ye,className:"bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-all group",title:"Share this apartment",children:a.jsx(De,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})}),a.jsx("button",{onClick:se,className:"bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-all group",title:"View fullscreen gallery",children:a.jsx(Ve,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})})]})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsxs("div",{className:"text-white",children:[a.jsx("h1",{className:"font-display text-4xl md:text-6xl font-bold mb-2",children:s.name}),a.jsxs("div",{className:"flex items-center gap-4 text-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5"}),a.jsxs("span",{children:[s.address,", ",s.city]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(g,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-semibold",children:((ie=o==null?void 0:o.averageRating)==null?void 0:ie.toFixed(1))||"4.9"}),a.jsxs("span",{className:"text-white/80",children:["(",(o==null?void 0:o.totalReviews)||0," reviews)"]})]})]})]}),a.jsx("div",{className:"flex items-center gap-3"})]})})})]}),a.jsx("section",{className:"container py-8 md:py-12 pb-32 lg:pb-12",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(h,{className:"text-center p-4 transition-all duration-300 hover:shadow-lg hover:scale-105 cursor-pointer",children:[a.jsx(m,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-2xl font-bold",children:s.max_guests}),a.jsx("div",{className:"text-sm text-muted-foreground",children:d("apartment.maxGuests")})]}),a.jsxs(h,{className:"text-center p-4 transition-all duration-300 hover:shadow-lg hover:scale-105 cursor-pointer",children:[a.jsx(Y,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-2xl font-bold",children:s.bedrooms}),a.jsx("div",{className:"text-sm text-muted-foreground",children:d("apartment.bedrooms")})]}),a.jsxs(h,{className:"text-center p-4 transition-all duration-300 hover:shadow-lg hover:scale-105 cursor-pointer",children:[a.jsx(xe,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-2xl font-bold",children:s.bathrooms}),a.jsx("div",{className:"text-sm text-muted-foreground",children:d("apartment.bathrooms")})]}),a.jsxs(h,{className:"text-center p-4 transition-all duration-300 hover:shadow-lg hover:scale-105 cursor-pointer",children:[a.jsx(_,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),a.jsx("div",{className:"text-2xl font-bold",children:s.min_nights||2}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Min Stay"})]})]}),a.jsxs(h,{children:[a.jsx(b,{children:a.jsx(j,{className:"text-2xl",children:"About this place"})}),a.jsxs(v,{children:[a.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground",children:s.description}),s.about_space&&a.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground mt-4",children:s.about_space})]})]}),a.jsxs(h,{children:[a.jsx(b,{children:a.jsx(j,{className:"text-2xl",children:"What this place offers"})}),a.jsx(v,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.amenities.filter(r=>$[r]).map(r=>{const x=$[r],c=ia[r]||r,T=ra[r]||`${r} available`;return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card/50",children:[a.jsx("div",{className:"text-primary",children:a.jsx(x,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:c}),a.jsx("div",{className:"text-sm text-muted-foreground",children:T})]})]},r)}),s.amenities.filter(r=>$[r]).length===0&&a.jsxs("div",{className:"col-span-2 text-center py-8 text-muted-foreground",children:[a.jsx(R,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),a.jsx("p",{children:"No amenities configured yet"})]})]})})]}),s.the_space&&a.jsxs(h,{children:[a.jsx(b,{children:a.jsx(j,{className:"text-2xl",children:"The Space"})}),a.jsx(v,{children:a.jsx("div",{className:"prose prose-gray max-w-none",children:a.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground whitespace-pre-wrap",children:s.the_space})})})]}),a.jsxs(h,{children:[a.jsxs(b,{children:[a.jsx(j,{className:"text-2xl",children:"Location & Neighborhood"}),a.jsx("p",{className:"text-muted-foreground",children:"Everything within walking distance"})]}),a.jsx(v,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative h-64 rounded-lg overflow-hidden border bg-muted/30",children:[a.jsx(ea,{latitude:s.latitude||39.547836899640934,longitude:s.longitude||21.762447453371244,address:s.address,propertyName:s.name}),a.jsx("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg z-10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"HL"})}),a.jsx("span",{className:"text-sm font-medium",children:s.address})]})}),a.jsx("div",{className:"absolute bottom-3 right-3 z-10",children:a.jsx(k,{variant:"outline",size:"sm",asChild:!0,className:"bg-white/90 backdrop-blur-sm border-white/50 hover:bg-white/80",children:a.jsxs("a",{href:"https://www.openstreetmap.org/?mlat=39.547836899640934&mlon=21.762447453371244#map=17/39.547836899640934/21.762447453371244",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(pe,{className:"h-4 w-4 mr-2"}),"Open in Maps"]})})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium",children:s.address})]}),s.location_neighborhood?a.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap",children:s.location_neighborhood}):a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:["Located in ",s.city,", ",s.country,". This area offers convenient access to local attractions, restaurants, and amenities."]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Nearby Attractions"}),s.nearby_places&&s.nearby_places.length>0?a.jsx("div",{className:"space-y-3",children:s.nearby_places.map(r=>{const x=ta[r.icon];return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card/50 hover:bg-card/70 transition-colors",children:[a.jsx("div",{className:"text-primary",children:x?a.jsx(x,{className:"h-4 w-4"}):a.jsx(l,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:r.name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.distance," • ",r.walkingTime]})]}),a.jsx(ne,{variant:"secondary",className:"text-xs",children:r.type})]},r.id)})}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(l,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No nearby attractions have been added yet."}),a.jsx("p",{className:"text-sm",children:"Check back later for local recommendations!"})]})]})]})})]}),a.jsx(sa,{rules:s.rules||[]}),a.jsxs(h,{children:[a.jsx(b,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(j,{className:"text-2xl",children:"Guest reviews"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-semibold",children:((re=o==null?void 0:o.averageRating)==null?void 0:re.toFixed(1))||"4.9"}),a.jsxs("span",{className:"text-muted-foreground",children:["(",(o==null?void 0:o.totalReviews)||0," reviews)"]})]})]})}),a.jsx(v,{children:je?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx($e,{className:"h-6 w-6 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading reviews..."})]}):Q.length>0?a.jsx("div",{className:"space-y-4",children:Q.map(r=>a.jsxs("div",{className:"p-4 rounded-lg border bg-card/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-semibold",children:r.guest_name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:r.guest_name}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((x,c)=>a.jsx(g,{className:`h-3 w-3 ${c<r.overall_rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},c))})]}),r.is_verified&&a.jsxs(ne,{variant:"secondary",className:"text-xs",children:[a.jsx(R,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),r.title&&a.jsx("h4",{className:"font-medium mb-2",children:r.title}),a.jsxs("p",{className:"text-muted-foreground mb-2",children:['"',r.review_text,'"']}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Stayed ",r.nights_stayed," night",r.nights_stayed>1?"s":""," • ",new Date(r.stay_date).toLocaleDateString()]})]},r.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(g,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),a.jsx("p",{children:"No reviews yet"}),a.jsx("p",{className:"text-sm",children:"Be the first to review this property!"})]})})]}),a.jsxs(h,{children:[a.jsx(b,{children:a.jsx(j,{className:"text-2xl",children:"Contact Your Host"})}),a.jsxs(v,{children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"HL"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Habitat Lobby Team"}),a.jsx("p",{className:"text-muted-foreground mb-3",children:"Your dedicated hosts in Trikala, committed to making your stay exceptional."}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(E,{to:"/contact",children:[a.jsx(X,{className:"h-4 w-4 mr-2"}),"Send Message"]})}),a.jsx(k,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:"tel:+302431025562",children:[a.jsx(he,{className:"h-4 w-4 mr-2"}),"Call Us"]})})]})]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Response Time"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"We typically respond within 1 hour during business hours (9 AM - 9 PM Greek time)."})]})]})]}),a.jsxs(h,{children:[a.jsx(b,{children:a.jsx(j,{className:"text-2xl",children:"Cancellation Policy"})}),a.jsxs(v,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(R,{className:"h-3 w-3 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Free cancellation for 48 hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancel up to 48 hours before check-in for a full refund."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(_,{className:"h-3 w-3 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Partial refund before 24 hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"50% refund for cancellations between 24-48 hours before check-in."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(G,{className:"h-3 w-3 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"No refund within 24 hours"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No refund for cancellations within 24 hours of check-in."})]})]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t",children:a.jsx(k,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(E,{to:"/policies",children:"View Full Cancellation Policy"})})})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"sticky top-6","data-availability-widget":!0,children:a.jsx(We,{propertyId:s.id,maxGuests:s.max_guests,basePrice:Math.round(s.base_price/100),className:"shadow-xl border-0",reviewStats:o,property:{id:s.id,name:s.name,description:s.description,images:s.images,city:s.city,country:s.country}})})})]})}),F&&a.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/90 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative max-w-7xl max-h-full w-full h-full flex items-center justify-center",children:[a.jsx("img",{src:z[t],alt:`${s.name} - Photo ${t+1}`,className:"max-w-full max-h-full object-contain"}),a.jsx("button",{onClick:()=>D(!1),className:"absolute top-4 right-4 bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-all",children:a.jsx(Ge,{className:"h-6 w-6"})}),a.jsx("button",{onClick:ae,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-all",children:a.jsx(oe,{className:"h-6 w-6"})}),a.jsx("button",{onClick:ee,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-all",children:a.jsx(me,{className:"h-6 w-6"})}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 backdrop-blur-sm rounded-full px-4 py-2 text-white",children:[t+1," / ",z.length]})]})}),a.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur border-t shadow-lg",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-primary",children:["€",Math.round(s.base_price/100)]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"per night"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),a.jsx("span",{className:"font-semibold",children:((te=o==null?void 0:o.averageRating)==null?void 0:te.toFixed(1))||"4.9"})]})]}),a.jsxs(k,{onClick:()=>{const r=document.querySelector("[data-availability-widget]");r==null||r.scrollIntoView({behavior:"smooth",block:"center"})},className:"w-full h-12 text-lg font-semibold bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg",children:[a.jsx(Ue,{className:"h-5 w-5 mr-2"}),d("apartment.checkAvailability")]})]})}),a.jsx(Ze,{}),s&&a.jsx(Je,{isOpen:_e,onClose:()=>K(!1),property:{id:s.id,name:s.name,description:s.description,images:s.images,city:s.city,country:s.country}})]})};export{na as default};
